apiVersion: redis.my.domain/v1
kind: RedisStandalone
metadata:
  name: redisstandalone-sample
spec:
  name: redis-alone
  image: redis:7.0.6-alpine
  imagePullPolicy: IfNotPresent
  resources:
    requests:
      memory: "64Mi"
      cpu: "250m"
    limits:
      memory: "128Mi"
      cpu: "500m"
  storage: 
    storageClass: managed-nfs-storage
    size: 1G
    retain: true
  configuration:
    requirepass: redis
    daemonize: "no" # 此参数必须为 no，如果为 yes，pod 启动后会里面退出，状态为 competed
    pidfile: /var/run/redis_6379.pid
    loglevel: notice
    databases: "16"